# Дистрибутив проектов

Репозиторий, служащий шаблоном для начала работы над фронтэнд-проектами.

Технологии: Gulp, Sass и простейшая шаблонизация, загрузка модулей.



## Клонирование репозитория

Для клонирования репозитория нужно прописать в консоли:

```
> git clone https://github.com/avgur89/portfolio-website.git
```



## Компиляция с помощью Gulp

Для запуска сборки нужно поставить необходимые пакеты. Из папки проекта запустить:

```bash
npm install
```



## Задачи Gulp

```bash
gulp          # запуск всех задач, слежения за файлами, локального сервера, автообновления
grunt sass    # компиляция стилей
grunt images  # минификация изображений и перенос в папку build/
grunt clean   # стирание папки build
```



## Парадигма

Разделяем результат и рабочие файлы:
- `build/` — папка с результатом работы
- `source/` — папка с рабочими файлами



### Разметка

Для вставки на HTML-страницы подключений стилевого файла, «Шапки», «Подвала», подключений скриптов и любых других повторяющихся блоков можно использовать [gulp-preprocess](https://www.npmjs.com/package/gulp-preprocess) (конструкции, вроде `<!-- @include _html_inc/page_header.html -->`). А можно и не использовать.



### Стилизация

`source/scss/main.scss` — диспетчер подключений, в нем только импортируются другие файлы. Компилируется в `build/css/main.css`, который и подключается к HTML.

`source/scss/tools` — файлы, включающие переменные, примеси, шрифты, разметку, normalize для сбросе стилей.
`source/scss/basics` — файлы, описывающие базовые стили, стили для ссылок и типографика.
`source/scss/components` — файлы, описывающие стили глобальных блоков страницы (forms, buttons).
`source/scss/layouts` — файлы, описывающие стили для «Шапки», «Подвала».
`source/scss/page-blocks` — файлы, описывающие стили отдельных блоков страницы.



### Изображения

При сборке все файлы и папки из `source/img` будут минифицированы и скопированы в `build/img`.



## Скрипты

Весь проектный JS в `source/js` будут скопированы в `build/js`.



## Загрузка JavaScript модулей

Для сборки JS файлов в один файл без использования Browserify можно использовать [gulp-deporder](https://www.npmjs.com/package/gulp-deporder)

Как использовать:

В начале JS файла прописываем `// requires: [имя_файла.js] [имя_файла2.js]`.
В итоге, модули `[имя_файла.js] [имя_файла2.js]` загрузятся перед содержимым в подключаемом файле.



## Переменная среды разработки

По умолчанию, переменная установлена в положении `development`.
Если переменной NODE_ENV присвоить значение `production`, то при запуске gulp задач, сборка проекта произойдет с минификацией стилей в `build/css/main.min.css` и модульной сборкой всех JS файлов в один `build/js/main.min.js`.

Командой `echo %NODE_ENV%` проверяем текущее значение переменной `NODE_ENV`.

```
set NODE_ENV=production (or development)
echo %NODE_ENV%
```
